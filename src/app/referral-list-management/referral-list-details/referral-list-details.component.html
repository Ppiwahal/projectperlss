<div class="pageMargin">
    <div class="row">
        <div class="col-md-6">
            <p class="common">Referral List Details</p>
       </div>
    </div>
    <div class="inner-container">
        <div class="row">
            <div class="col-md-3">
                <p class="label_name">APPLICANT NAME:</p>
            </div>
            <div class="col-md-3">
                <p *ngIf ="referralListDetails">{{(referralListDetails.applicantName ? referralListDetails.applicantName :"---")}}</p>
            </div>
            <div class="col-md-3">
                <p class="label_name">REFERRAL ID:</p>
            </div>
            <div class="col-md-3">
                <p *ngIf ="referralListDetails">{{(referralListDetails.refId ? referralListDetails.refId : "---")}}</p>
            </div>
       </div>
        <div class="row">
            <div class="col-md-3">
                <p class="label_name">PERSON ID:</p>
            </div>
            <div class="col-md-3">
                <p *ngIf ="referralListDetails">{{(referralListDetails.prsnId ? referralListDetails.prsnId : "---") }}</p>
            </div>
            <div class="col-md-3">
                <p class="label_name">REFERRAL SUBMISSION DATE:</p>
            </div>
            <div class="col-md-3">
                <p *ngIf ="referralListDetails">{{(referralListDetails.submissionDt ? referralListDetails.submissionDt : "---")}}</p>
            </div>
       </div>
        <div class="row">
            <div class="col-md-3">
                <p class="label_name">DATE OF BIRTH:</p>
            </div>
            <div class="col-md-3">
                <p *ngIf ="referralListDetails">{{(referralListDetails.dobDt ? referralListDetails.dobDt : "---") }}</p>
            </div>
            <div class="col-md-3">
                <p class="label_name">INTAKE OUTCOME:</p>
            </div>
            <div class="col-md-3">
                <p *ngIf ="referralListDetails">{{(referralListDetails.intakeOutcome ? getNameByCode(referralListDetails.intakeOutcome,'IOC') : "---") }}</p>
            </div>
       </div>
        <div class="row">
            <div class="col-md-3">
                <p class="label_name">SSN:</p>
            </div>
            <div class="col-md-3">
                <p *ngIf ="referralListDetails">{{(referralListDetails.ssn ? referralListDetails.ssn : "---") }}</p>
            </div>
            <div class="col-md-3">
                <p class="label_name">PAE ID:</p>
            </div>
            <div class="col-md-3">
                <p *ngIf ="referralListDetails">{{(referralListDetails.paeId ? referralListDetails.paeId  : "---") }}</p>
            </div>
       </div>
        <div class="row">
            <div class="col-md-3">
                <p class="label_name">PROGRAM TYPE:</p>
            </div>
            <div class="col-md-3">
                <p *ngIf ="referralListDetails">{{(referralListDetails.programType ? getNameByCode(referralListDetails.programType,'PT') : "---")}}</p>
            </div>
            <div class="col-md-3">
                <p class="label_name">PAE STATUS:</p>
            </div>
            <div class="col-md-3">
                <p *ngIf ="referralListDetails">{{(referralListDetails.paeStatusCd ? getNameByCode(referralListDetails.paeStatusCd,'PAE') : "---")}}</p>
            </div>
       </div>
        <br>
        <mat-divider></mat-divider>
        <br>
        <div class="row">
            <div class="col-md-3">
                <p class="label_name">SLOT STATUS:</p>
            </div>
            <div class="col-md-3">
                <p *ngIf ="referralListDetails">{{(referralListDetails.sltStatusCd ? getNameByCode(referralListDetails.sltStatusCd,'SS'): "---") }}</p>
            </div>
            <div class="col-md-3">
                <p class="label_name">LAST UPDATE DATE:</p>
            </div>
            <div class="col-md-3">
                <p *ngIf ="referralListDetails">{{(referralListDetails.lastUpdateDt  ?  referralListDetails.lastUpdateDt : "---")}}</p>
            </div>
       </div>
        <div class="row">
            <div class="col-md-3">
                <p class="label_name">DATE ADDED TO LIST:</p>
            </div>
            <div class="col-md-3">
                <p *ngIf ="referralListDetails">{{(referralListDetails.addedDt ? referralListDetails.addedDt : "---") }}</p>
            </div>
            <div class="col-md-3">
                <p class="label_name">DATE REMOVED FROM LIST:</p>
            </div>
            <div class="col-md-3">
                <p *ngIf ="referralListDetails">{{(referralListDetails.removedDt ? referralListDetails.removedDt : "---") }}</p>
            </div>
       </div>
        <div class="row">
            <div class="col-md-3">
                <p class="label_name">ASSIGNED MCO:</p>
            </div>
            <div class="col-md-3">
                <p *ngIf ="referralListDetails">{{(referralListDetails.assignedMCO ? referralListDetails.assignedMCO : "---") }}</p>
            </div>
            <div class="col-md-3">
                <p class="label_name">NEXT OUTREACH DATE:</p>
            </div>
            <div class="col-md-3">
                <p *ngIf ="referralListDetails">{{(referralListDetails.nextOutreachDt ? referralListDetails.nextOutreachDt : "---") }}</p>
            </div>
       </div>
    </div>

    <div style="padding-top: 25px;">
        <mat-accordion>
            <mat-expansion-panel>
                <mat-expansion-panel-header style="background-color: #f5f5f5">
                    <mat-panel-title>
                        Update Referral List Status
                    </mat-panel-title>
                </mat-expansion-panel-header>
                <app-update-refrral-list [referralId]="referralId" [refProgram] ="refPrograms"></app-update-refrral-list>
            </mat-expansion-panel>
       </mat-accordion>
        <mat-accordion>
            <mat-expansion-panel style="padding-top: 15px">
                <mat-expansion-panel-header style="background-color: #f5f5f5">
                    <mat-panel-title>
                        Update Outreach Details
                    </mat-panel-title>
                </mat-expansion-panel-header>
                <app-update-outreach-details [referralId]="referralId"></app-update-outreach-details>
            </mat-expansion-panel>
       </mat-accordion>
    </div>
    <br>
    <mat-divider style="padding-top: 35px;"></mat-divider>
    <div class="row">
        <div class="col-md-6">
            <p class="heading">Referral List History</p>
       </div>
    </div>

    <div style="padding-top: 15px;">
        <table aria-describedby mat-table [dataSource]="dataSource" multiTemplateDataRows class="mat-elevation-z8"
            style="width: 100%;font-size: 12px;">

            <ng-container matColumnDef="waitingliststatus">
                <th id="waitingliststatus" mat-header-cell *matHeaderCellDef class='table-th'>Referral List Status</th>
                <td mat-cell class="table-td" *matCellDef="let element">{{(element.refListStatusCd ? getNameByCode(element.refListStatusCd,'REFS') : "---")}}</td>
            </ng-container>

            <ng-container matColumnDef="reassessmentdate">
                <th id="reassessmentdate" mat-header-cell *matHeaderCellDef class='table-th'>Outreach Date</th>
                <td mat-cell class="table-td" *matCellDef="let element">{{(element.previousOutreachDt ? element.previousOutreachDt : "---")}}</td>
            </ng-container>

            <ng-container matColumnDef="reassessmentresult">
                <th id="reassessmentresult" mat-header-cell *matHeaderCellDef class='table-th'>Outreach Result</th>
                <td mat-cell class="table-td" *matCellDef="let element">{{(element.updateActionCd ? getNameByCode(element.updateActionCd,'AC') : "---") }}</td>
            </ng-container>

            <ng-container matColumnDef="reasonforchange">
                <th id="reasonforchange" mat-header-cell *matHeaderCellDef class='table-th'>Reason for Change</th>
                <td mat-cell class="table-td" *matCellDef="let element">{{(element.rmvlRsnCd ? getNameByCode(element.rmvlRsnCd,'RC') : "---")}}</td>
            </ng-container>

            <ng-container matColumnDef="updatedate">
                <th id="updatedate" mat-header-cell *matHeaderCellDef class='table-th'>Update Date</th>
                <td mat-cell class="table-td" *matCellDef="let element">{{(element.lastModifiedDate ? element.lastModifiedDate : "---")}}</td>
            </ng-container>

            <ng-container matColumnDef="updateuser">
                <th id="updateuser" mat-header-cell *matHeaderCellDef class='table-th'>Update User</th>
                <td mat-cell class="table-td" *matCellDef="let element">{{(element.lastModifiedBy ? element.lastModifiedBy : "---")}}</td>
            </ng-container>

            <ng-container matColumnDef="expandedDetail">
                <td mat-cell *matCellDef="let element" [attr.colspan]="displayedColumns.length">
                    <div class="example-element-detail"
                        [@detailExpand]="element == expandedElement ? 'expanded' : 'collapsed'">

                        <div style="font-size: 12px;padding-left:25px">
                            <table aria-describedby class="table table-borderless"
                                style="border: 0px;text-align: left;">
                                <tr style="margin-left: -10px;" class="d-flex">
                                    <th id="personAuthorizedRemoval" class="col-2" style="border-bottom:0px">
                                        <strong>Person Authorized Removal:</strong>
                                    </th>
                                    <td class="col-2" style="border-bottom:0px">
                                        <strong>Relationship:</strong>
                                    </td>
                                    <td class="col-2" style="border-bottom:0px">
                                        <strong>Contact Date and Time:</strong>
                                    </td>
                                    <td class="col-2" style="border-bottom:0px">
                                        <strong>Type of Contact:</strong>
                                    </td>
                                    <td class="col-2" style="border-bottom:0px">
                                        <strong>Contacted By:</strong>
                                    </td>
                                </tr>
                                <tr style="margin-top: -20px; margin-left: -10px;" class="d-flex">
                                    <td class="col-2">
                                        {{(element.rmvlAuthName ? element.rmvlAuthName : "---") }}
                                    </td>
                                    <td class="col-2">
                                        {{(element.rmvlAuthReltshpCd ? getNameByCode(element.rmvlAuthReltshpCd,'RLC') : "---") }}
                                    </td>
                                    <td class="col-2">
                                     {{element.refListOutreachCntct?element.refListOutreachCntct.cntctDtTime : "---" }}
                                    </td>
                                    <td class="col-2">
                                        {{(element.rmvlAuthCntctTypeCd ? getNameByCode(element.rmvlAuthCntctTypeCd,'CC') : "---") }}
                                    </td>
                                    <td class="col-2">
                                        {{(element.rmvlAuthCntctBy ? element.rmvlAuthCntctBy : "---") }}
                                    </td>
                                </tr>
                                <tr style=" font-weight: bold; color: black;" class="d-flex">
                                    Comments:
                                </tr>
                                <tr style="padding-top: 10px;" class="d-flex">
                                    {{(element.comments ? element.comments : "---")}}
                                </tr>
                            </table>
                        </div>
                    </div>
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let element; columns: displayedColumns;" class="element-row"
                [class.expanded-row]="expandedElement === element"
                (click)="expandedElement = expandedElement === element ? null : element">
            </tr>
            <tr mat-row *matRowDef="let row; columns: ['expandedDetail']" class="example-detail-row"></tr>
       </table>
    <mat-paginator [pageSize]="10" [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
</div>
    <div class="row">
        <div class="col"
            style="padding-top: 55px; font-weight: bold; margin-top: 16px; text-align:center; display:block; color:#174A7C;">
            <a routerLink="/ltss/referralListManagement/referralListDashboard">GO BACK TO REFERRAL LIST MANAGEMENT HOME</a><br>
       </div>
    </div>
</div>