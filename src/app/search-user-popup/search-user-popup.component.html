<div class="dialog">
    <div class="header">
        <h1>Search User</h1>
        <mat-icon (click)="close()">highlight_off</mat-icon>
    </div>
    <div class="form">
        <br>
        <div class="row">
            <div class="col-12">
                <div class="validation-message perlss_page_content">
                    <div class="txtclr">
                        <p>Search for User</p>
                    </div>
                    <!-- <div class="form-group search">
                        <input type="text" class="form-control" #searchtext (keypress)="validateInput($event)"
                            (keyup)="onSearch($event.target.value)">
                        <mat-icon [hidden]="!searchtext.value" (click)="searchtext.value = ''; onSearch('')">close
                        </mat-icon>
                    </div> -->
                    <div  id="search">
                        <mat-form-field appearance="outline">
                          <mat-label>Search for User</mat-label>
                          <input matInput formControlName="search" autocomplete="off"  #searchtext (keypress)="validateInput($event)"
                          (keyup)="onSearch($event.target.value)" placeholder="Search by Name, Username, Group, Role, Userstatus ">
                          <button mat-button *ngIf="searchtext.value" matSuffix mat-icon-button (click)="searchtext.value = ''; onSearch('')">
                             <mat-icon >close
                            </mat-icon>
                          </button>
                        </mat-form-field>
                      </div>
                    <ng-container *ngIf="searchtext.value && dataSource && dataSource.data && dataSource.data.length">
                        <table mat-table [dataSource]="dataSource">

                            <ng-container matColumnDef="name">
                                <th mat-header-cell *matHeaderCellDef>Name</th>
                                <td mat-cell *matCellDef="let element">{{element.name}}
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="userName">
                                <th mat-header-cell *matHeaderCellDef>User Name</th>
                                <td mat-cell *matCellDef="let element">{{element.userName}}
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="group">
                                <th mat-header-cell *matHeaderCellDef>Group</th>
                                <td mat-cell *matCellDef="let element">{{element.group}}
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="role">
                                <th mat-header-cell *matHeaderCellDef>Role</th>
                                <td mat-cell *matCellDef="let element">{{element.role}}
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="status">
                                <th mat-header-cell *matHeaderCellDef>User Status</th>
                                <td mat-cell *matCellDef="let element">{{element.status}}
                                </td>
                            </ng-container>
                            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                            <tr mat-row *matRowDef="let element; columns: displayedColumns;"
                                [ngClass]="{'highlight': selectedRow === element}" (click)="onrowSelect(element)">
                            </tr>

                        </table>
                    </ng-container>
                </div>
            </div>
        </div>
        <br>
        <br>

        <div class="row">
            <div class="col-12">
                <div class="text-left">
                    <button mat-flat-button color="primary" [disabled]="!selectedRow" (click)="confirm()"
                        class="perlss-click-button">CONFIRM</button> &nbsp;
                    <button mat-flat-button (click)="close()" color="primary"
                        class="perlss-click-button-white-noborder">CANCEL</button> 
                    
                </div>
            </div>
        </div>
    </div>
</div>