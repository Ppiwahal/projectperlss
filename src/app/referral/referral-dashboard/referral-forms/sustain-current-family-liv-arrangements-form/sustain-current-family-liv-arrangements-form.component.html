<div class="responsive dialog">
  <div class="header Lar">
    <div class="left">
    <h1 mat-dialog-title>Sustain Current Family Living Arrangements Review Form</h1>
  </div><div class="right">
    <label class="req">Required</label>
    <mat-icon (click)="closePopup()" style="font-size: 35px;">highlight_off</mat-icon>
  </div>
</div>

  <form [formGroup]="myForm" (ngSubmit)="onSubmit()">
    <div class="scroller noPad">
      <div class="note-container message">
        <p>The following section shall be completed during the Intake visit to document the circumstances under
          which the above-named person is believed to meet criteria requiring supports to sustain the current family
          living arrangement. This information shall be reviewed by the Interagency Review Committee to determine
          whether the person will proceed with application for enrollment in the Employment and Community First
          CHOICES program in available reserve capacity set aside for such purposes. Please ensure the potential
          applicant does not appear  to qualify for potential enrollment in an open Priority Category before
          submitting a request for review of Planned Transition to Community Living. If a potential applicant
          appears to meets criteria for both an open Priority Category and Planned Transition to Community
          Living – you must proceed with an application for potential enrollment in the appropriate open
          Priority Category.</p>

        <p>Please ensure the potential applicant does not appear to qualify for potential enrollment in an open
          Priority Category before submitting a request for review of Supports to Sustain Current Family Living
          Arrangements. If an applicant appears to meet criteria for both an open Priority Category and Supports
          to Sustain Current Family Living Arrangements – you must proceed with an application for potential
          enrollment in the appropriate open Priority Category.</p>
      </div>
      <div class="padded">
        <p>Please identify all Support Sustained Current Family Living Arrangement criteria that are applicable:</p>
        <mat-radio-group formControlName="naturalFamPrsonSw">
          <mat-label class="req">The person lives at home with natural family or the only ‘family’ the person knows.
          </mat-label>
          <mat-error *ngIf="controlError('naturalFamPrsonSw')">{{errorText['naturalFamPrsonSw']}}</mat-error>
          <mat-radio-button value="Y">Yes</mat-radio-button>
          <mat-radio-button value="N">No</mat-radio-button>
       </mat-radio-group>

        <mat-radio-group formControlName="medBehNeedsStruggSw">
          <mat-label class="req">The person has significant medical and or behavioral needs that family caregivers
            are struggling to meet, and as a result, the person is at significant risk of being placed outside the
            home.</mat-label>
          <mat-error *ngIf="controlError('medBehNeedsStruggSw')">{{errorText['medBehNeedsStruggSw']}}</mat-error>
          <mat-radio-button value="Y">Yes</mat-radio-button>
          <mat-radio-button value="N">No</mat-radio-button>
       </mat-radio-group>

        <mat-radio-group formControlName="primaryCarWillngSupSw">
          <mat-label class="req">The person’s primary caregiver(s) are able and
            willing to continue caring
            for/supporting the person if some supports are provided in the home to assist the family in supporting the
            person.</mat-label>
          <mat-error *ngIf="controlError('primaryCarWillngSupSw')">{{errorText['primaryCarWillngSupSw']}}</mat-error>
          <mat-radio-button value="Y">Yes</mat-radio-button>
          <mat-radio-button value="N">No</mat-radio-button>
       </mat-radio-group>

        <mat-radio-group formControlName="prsnUrgntSupSw">
          <mat-label class="req">The person/family is in urgent need of supports
            that would be available in ECF
            in order to maintain the current family living arrangement and delay or prevent the need for more
            expensive services.</mat-label>
          <mat-error *ngIf="controlError('prsnUrgntSupSw')">{{errorText['prsnUrgntSupSw']}}</mat-error>
          <mat-radio-button value="Y">Yes</mat-radio-button>
          <mat-radio-button value="N">No</mat-radio-button>
       </mat-radio-group>

        <mat-divider></mat-divider>
        <p>Please complete the information below and submit with all supporting
          documentation to TennCare, via designated process, for referral to the Interagency
          Review Committee.</p>

        <p>Please do not provide repetitive information in multiple response boxes below. Each
          area needs to be addressed specific to the information being requested.
       </p>

        <div class="textArea">
          <mat-label class="req">Please explain why this person does not appear to qualify for enrollment in
            an open Priority Category:</mat-label>
          <textarea maxlength="2000" formControlName="prsnDsntQualifyTxt"></textarea>
          <mat-error *ngIf="controlError('prsnDsntQualifyTxt')">{{errorText['prsnDsntQualifyTxt']}}</mat-error>
          <p>{{f.prsnDsntQualifyTxt.value.length}}/2000</p>
       </div>

        <div class="textArea">
          <mat-label class="req">Detail regarding current health condition of the person’s caregiver including diagnosis,
                when the condition began, severity of symptoms and current and expected progression of decline:</mat-label>
          <textarea maxlength="2000" formControlName="currHlthCondnTxt"></textarea>
          <mat-error *ngIf="controlError('currHlthCondnTxt')">{{errorText['currHlthCondnTxt']}}</mat-error>
          <p>{{f.currHlthCondnTxt.value.length}}/2000</p>
       </div>

        <div class="textArea">
          <mat-label class="req">Detail current treatment / therapies being
            received for each medical and/or behavioral health condition:</mat-label>
          <textarea maxlength="2000" formControlName="trtmntThrpyRcvdTxt"></textarea>
          <mat-error *ngIf="controlError('trtmntThrpyRcvdTxt')">{{errorText['trtmntThrpyRcvdTxt']}}</mat-error>
          <p>{{f.trtmntThrpyRcvdTxt.value.length}}/2000</p>
       </div>

        <div class="textArea">
          <mat-label class="req">Recent events that led to the family’s struggle to maintain current level of support:</mat-label>
          <textarea maxlength="2000" formControlName="evntsFamStruggTxt"></textarea>
          <mat-error *ngIf="controlError('evntsFamStruggTxt')">{{errorText['evntsFamStruggTxt']}}</mat-error>
          <p>{{f.evntsFamStruggTxt.value.length}}/2000</p>
       </div>

        <div class="textArea">
          <mat-label class="req">How the person is being supported now (include who provides support, whether the support is
            paid or unpaid, etc.):</mat-label>
          <textarea maxlength="2000" formControlName="howPrsnIsSupTxt"></textarea>
          <mat-error *ngIf="controlError('howPrsnIsSupTxt')">{{errorText['howPrsnIsSupTxt']}}</mat-error>
          <p>{{f.howPrsnIsSupTxt.value.length}}/2000</p>
       </div>

        <div class="textArea">
          <mat-label class="req">Options that have been tried that did not work
            (include home health, behavioral therapy/support services,
            evaluation / assessment for use of technology, other referrals and services provided that failed, etc.):</mat-label>
          <textarea maxlength="2000" formControlName="optDidNotWorkTxt"></textarea>
          <mat-error *ngIf="controlError('optDidNotWorkTxt')">{{errorText['optDidNotWorkTxt']}}</mat-error>
          <p>{{f.optDidNotWorkTxt.value.length}}/2000</p>
       </div>

        <div class="textArea">
          <mat-label class="req">Anticipated changes in these supports, and the expected timing of such changes:</mat-label>
          <textarea maxlength="2000" formControlName="antiChngsExpTimeTxt"></textarea>
          <mat-error *ngIf="controlError('antiChngsExpTimeTxt')">{{errorText['antiChngsExpTimeTxt']}}</mat-error>
          <p>{{f.antiChngsExpTimeTxt.value.length}}/2000</p>
       </div>

        <div class="textArea">
          <mat-label class="req">Other supports that are available / resources
            that have been explored or that could be developed:</mat-label>
          <textarea maxlength="2000" formControlName="othrSupResAvalTxt"></textarea>
          <mat-error *ngIf="controlError('othrSupResAvalTxt')">{{errorText['othrSupResAvalTxt']}}</mat-error>
          <p>{{f.othrSupResAvalTxt.value.length}}/2000</p>
       </div>

        <div class="textArea">
          <mat-label class="req">Describe your observations of the current
            circumstance and reason for Sustain Current
            Family Living Arrangements criteria request:</mat-label>
          <textarea maxlength="2000" formControlName="rsnCurrFamArrangTxt"></textarea>
          <mat-error *ngIf="controlError('rsnCurrFamArrangTxt')">{{errorText['rsnCurrFamArrangTxt']}}</mat-error>
          <p>{{f.rsnCurrFamArrangTxt.value.length}}/2000</p>
       </div>

        <div class="checkbox-group">
          <mat-label class="">Please check all supporting documentation being provided
            with this request:</mat-label>
          <mat-checkbox class="checkbox-element" formControlName="verifTrgtPopulatinSw"
            >
            Verification of target population</mat-checkbox>
          <mat-checkbox class="checkbox-element" formControlName="adaptBehLsaResSw" >
            Adaptive Behavior / Life Skills Assessment results</mat-checkbox>
          <mat-checkbox class="checkbox-element" formControlName="legalDocsSw" >
            Legal documents</mat-checkbox>
          <!-- <mat-checkbox class="checkbox-element" formControlName="mediDocumentationSw" >
            Medical documentation (including but not limited to support of
            diagnosis)</mat-checkbox> -->
          <mat-checkbox class="checkbox-element" formControlName="phyclClinicalNoteSw" >
            Physician / clinical note(s)</mat-checkbox>
          <div class="inline">
            <mat-checkbox (click)="otherClick()" formControlName="othrSw">Other:</mat-checkbox>
            <div class="inline-wrapper">
              <ng-container *ngIf="f.othrSw.value">
                <input formControlName="othrDesc" placeHolder="Other Documentation" type="text"
                  [ngClass]="{ 'is-invalid': f.othrSw.value && !f.othrDesc.value && !f.othrDesc.touched }" />
              </ng-container>
              <ng-container *ngIf="!f.othrSw.value">
                <input formControlName="othrDesc" maxlength="2000" class="disabled" type="text" disabled>
              </ng-container>
              <mat-error *ngIf="controlError('othrDesc')">{{errorText['othrDesc']}}</mat-error>
            </div>
          </div>
       </div>

        <mat-divider></mat-divider>

        <p>Signatures below indicate an attestation that the information provided in this
          request form is accurate as provided by the potential applicant or informant and as observed
          by the person completing this form.</p>

        <div class="checkbox-group w40">
          <mat-form-field appearance="outline" class="w40">
            <mat-label class="req">Electronic Signature</mat-label>
            <input matInput placeholder="Electronic Signature" maxlength="65" formControlName="electronicSignature"
              [ngClass]="{ 'is-invalid': f.electronicSignature.touched && !f.electronicSignature.value }" />
            <mat-error *ngIf="controlError('electronicSignature')">{{errorText['electronicSignature']}}</mat-error>
          </mat-form-field>
       </div>
      </div>
    </div>
    <div class="buttonBar">
      <button color="primary" type="submit"
        class="mat-focus-indicator mat-flat-button mat-button-base mat-primary">Submit</button>
    </div>
  </form>
</div>
